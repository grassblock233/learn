# Linux 常用命令

## 目录操作

### ls

列出当前目录下的所有内容

用法：`ls [选项] [文件名/目录名]`

选项：`-a` 显示目录中全部文件，包括隐藏文件，`-l` 使用长列表格式，显示文件详细信息

> NOTE：
> 
> 文件的权限：
> 
> eg. drwxr-xr-x
> 
> 第一个：`-`普通文件 `d`目录 `l`链接文件 `b`设备文件
> 
> 后九个字符三个一组，分别为 **文件所有者，文件所有者所在用户组，其他用户**的权限
> 
> 权限类型：**w**写，**r**读，**x**可执行

### cd

转换用户所在的目录

用法：`cd [目录名]`

> `.`当前目录，`..`上一级目录，`/`根目录，`~`当前用户目录

### pwd

显示当前工作目录的绝对路径

### mkdir

创建一个新目录

用法：`mkdir [选项] [目录名]`

选项：`-m` 设置权限(eg.777)，`-p`递归建立目录

### rmdir

删除一个**空目录**

用法：`rmdir [选项] [目录名]`

选项：`-p` 递归删除各级空目录

> NOTE：
> 
> 注意删除的是**空目录**
> 
> 注意`rmdir`与`rm`的区别

## 文件操作

### 重定向符与管道符(⭐)

| 符号  | 格式              | 含义            |
| --- | --------------- | ------------- |
| >   | Command > File  | 标准输入重定向       |
| <   | Command < File  | **标准输出重定向**   |
| 2>  | Command 2> File | 标准错误输出重定向     |
| &>  | Command &> File | 标准输出合并重定向     |
| >>  | Command >> File | **标准输出追加重定向** |
| \|  | Command \| File | **管道**        |

### touch

在当前目录下直接创建文件

用法：`touch [文件名]`

### cat

显示文件的内容

用法：`cat [选项] [文件名]`

选项：`-n` 对文件中所有的行进行编号并**显示行号**

### cp

复制文件

用法：`cp [选项] <源文件> <目标>`

选项：`-i`表示以安全询问的方式进行源文件的复制

> NOTE：
> 
> 目标是文件：以文件重命名的方式实现文件的拷贝

### rm

删除指定的文件

用法：`rm [选项] [文件名或目录名]`

选项：`-r -R,--recursive`递归删除目录及内容

`-v,--verbose`显示步骤

`-f,--force`强制删除，忽略不存在的文件

`-i`删除前确认

> NOTE：
> 
> `rm -r *.txt`  中 `*`是通配符

### mv

移动文件

用法：`mv [文件名] [路径名]`

> NOTE：
> 
> `mv`也可以实现重命名的操作

### chmod

修改**文件的权限**和**文件的属性** 

用法：`chmod [<文件使用者>+/-/=<权限类型>]`

**文件权限相关参数**：

**文件使用者**

| 参数  | 含义     |
| --- | ------ |
| u   | user   |
| g   | group  |
| o   | others |
| a   | all    |

**操作符号**

| 参数  | 含义              |
| --- | --------------- |
| +   | 增加权限            |
| -   | 删除权限            |
| =   | 赋予指定的权限，并取消其他权限 |

**权限类型**

| 参数  | 含义    |
| --- | ----- |
| r   | read  |
| w   | write |
| x   | 可执行   |



## 文件处理

### grep

在指定的文件中查找某个特定的字符串

用法：`grep [选项] [KeyWord] [文件名]`

选项：`-i`不区分大小写

eg. `grep hello test.txt`查找文件中的字符串"hello"

### head

查看文件的开头部分n行的内容

用法：`head [数字选项] 文件名`

数字选项：`-n`n为数字，表示显示n行，不加默认10行

### tail

查看文件的结尾n行的内容

用法：`tail [数字选项] 文件名`

数字选项：`-n`n为数字，表示显示n行，不加默认10行

### wc

对文件的行数、单词数、字符数进行统计

用法：`wc [选项] [文件名]`

选项：`-i` 显示行数，`-w`显示单词数，`-m`显示字符数

### find

在指定目录下查找文件

用法：`find [文件名/目录名] [选项]`

> NOTE：
> 
> 任何位于参数之前的字符串都将被视为欲查找的目录名

eg. 

1. 将当前目录及其子目录下所有文件后缀为 .c 的文件列出来：`find . -name "*.c"`

2. 将当前目录及其子目录中的所有文件列出：`find . -type f`

### which

按**PATH**变量所规定的路径进行查找相应的命令，显示该命令的绝对路径

> PATH 变量即为环境变量

用法：`which [命令名]`

### whereis

不但能查询出命令，而且还能查询出Ubuntu资料库里记载的文件

用法：`whereis [选项] [文件名]`

选项：

| 选项  | 作用                   |
| --- | -------------------- |
| -b  | 只查找二进制文件             |
| -w  | 只查找说明文件在manual路径下的文件 |

### locate

将所有与被查询的文件名相同的文件查找出来

用法：`locate [文件名]`

## 压缩备份命令

### bzip2/bunzip2

用法：`bzip2 [被压缩的文件名1,2,3...]`

`bunzip2 [待解压文件的文件名1,2,3...]`

### gzip

用法：`gzip [选项] [文件名]`

选项：`-d` 解压，`-n`指定压缩级别(1-9)

### unzip

解压.zip文件

用法：`unzip [选项] [文件名]`

选项：

| 选项  | 作用                 |
| --- | ------------------ |
| -v  | 只查看压缩文件里的文件目录，但不解压 |
| -d  | 指定文件解压后存储的目录       |

### zcat/bzcat

查看压缩文件内容的，即**不用解压压缩文件**就可以查看里面的内容

用法：`zcat [文件名]`

`bzcat [文件名]`

### tar (⭐)

对文件或者目录进行打包备份或者解包操作（无压缩）

用法：`tar [选项] [备份包的文件名] [待打包/解包的文件名]`

选项：

| 选项  | 作用                  |
| --- | ------------------- |
| -c  | 创建一个新的归档文件          |
| -f  | 指定归档文件的名称           |
| -t  | 查看打包文件里的内容          |
| -x  | 抽取打包文件里的内容， 源文件保持不变 |
| -z  | 使用 gzip 压缩归档文件      |

eg. `tar  –zcf  filename.tar.gz  file1  file2  
file3`
含义：把file1、file2、file3打包成后缀为.tar的新文件，文件名为filename.tar

## 磁盘操作

### mount(⭐)

挂载(**sudo**)

用法：`mount [-t vfstype] [-o 选项1,2...] device dir`

> NOTE：
> 
> [-t vfstype] 指定文件系统的类型，通常不必指定mount命令会自动选择正确的类型
> [-o 选项]主要用来描述设备或文档的挂接方式

eg. `sudo fdisk -l`  查看系统的device

### unmount(⭐)

卸载(**sudo**)，mount命令的逆操作

用法：`umount  <挂载点|设备>`

eg. `umount /mnt/usb`  卸载USB设备

### df

查看当前硬盘的分区信息

用法：`df [选项]`

选项：`-h` 把各分区的大小和挂载的文件分区的大小以MB或者GB为单位显示

### du

查看当前目录下所有文件及目录的信息

用法：`du [选项]`

选项：`-h`  以Gb或Mb等形式显示文件或目录的大小

`-s`  只列出各文件大小的总和

### fsck

硬盘检测

用法：`fsck [分区名]`

## 关机重启

### shutdown

安全关机(**sudo**)

用法：`shutdown [选项] [时间] [警告信息]`

选项：`-h` 将系统服务停掉然后安全关机

`-r` 将系统服务停掉然后安全重启

eg. `shutdown –r +1 “system will be reboot after 1 minuter.”`

系统在1分钟后重启，并通知用户(system will be reboot after 1 minuter)

### halt

关机

用法：`halt [选项]`

选项：`-f` 强制关机

> NOTE：
> 
> `halt`命令单独使用，就等于执行了`hutdown –h`命令。停掉系统服务后安全关机。执行`-f`选项时，不调用shutdown命令直接进行**强行关机**

### poweroff

关机

### reboot

重启

### init

切换Ubuntu的运行级别

用法：`init [运行级别]`

运行级别：一共有7级。分别是从0~6。输入命令init 0，实现关机操作。输入命令init 6，实现机器的重新启动。

## 其他命令

### echo

在命令行中显示字符串，主要用于输出提示信息

用法：`echo [选项] [string]`

选项：`-n` 表示输出字符串后，光标不换行

### more/less

逐页显示文件内容

用法：`more [选项] 文件名`

`less [选项] 文件名`

### help/man

显示某个命令的格式用法

用法：`help [文件名]`

`man [文件名]`

### cal

显示日历

用法：`cal [选项 [月份 [年份] ]`

选项：

| 选项  | 作用                  |
| --- | ------------------- |
| -m  | 以星期一为每周的第一天方式显示     |
| -j  | 以凯撒历显示，即以一月一日起的天数显示 |
| -y  | 显示今年年历              |

### date

显示及设定系统的日期和时间

> 设定需要root权限

用法：`date [选项] [显示的时间格式]`

> 设定系统时间：`date [时间]`

显示的时间格式：eg. `"+%x,%r"`
